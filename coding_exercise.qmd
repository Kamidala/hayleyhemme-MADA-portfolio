---
title: "R Coding Exercise"
output:
  html_document:
    toc: FALSE
---

Loading packages
```{r, warning=FALSE}
library(tidyverse) 
library("dslabs")
```

Loading data
```{r}
help(gapminder)
data("gapminder")
summary(gapminder)
class(gapminder)
head(gapminder)
```

Subsetting data from African countries
```{r}
africadata <- gapminder %>% 
  filter(continent=="Africa")

str(africadata)
summary(africadata)
```

Creating new objects from 'africadata'-- 'imle' containing infant
mortality and life expectancy, and 'ple' containing population size and
life expectancy
```{r}
imle <- africadata %>% 
  select(c(infant_mortality, life_expectancy))

str(imle)
summary(imle)

ple <- africadata %>% 
  select(c(population, life_expectancy))

str(ple)
summary(ple)

```

Data Visualization
```{r}
#| warning: false
#| fig-cap: "Infant Mortality Rate and Life Expectancy in African Countries -- 1960 - 2015"
imle %>% ggplot(aes(x=infant_mortality, y=life_expectancy)) + 
  geom_point() + labs(x = "Infant Mortality (per 1,000 births)", y = "Life Expectancy (years)")
```

```{r}
ple %>% ggplot(aes(x= log(population), y = life_expectancy)) + 
geom_point() + labs(x="Log Population", y = "Life Expectancy (years)")
```

Next, let's find out which years are missing data on infant mortality
```{r}
with(subset(africadata, is.na(infant_mortality)), year)
```

Subsetting data from the year 2000
```{r}
africa2000 <- africadata %>% 
  filter(year == "2000")

str(africa2000)
summary(africa2000)
```

Plotting data from African Countries in 2000
```{r}
africa2000 %>% ggplot(aes(x=infant_mortality, y=life_expectancy)) +
geom_point() + labs(x = "Infant Mortality (per 1,000 births)", y = "Life
Expectancy (years)", title = "Infant Mortality Rate and Life Expectancy
in African Countries -- 2000")

africa2000 %>%  ggplot(aes(x= log(population), y = life_expectancy)) +
geom_point() + labs(x="Log Population", y = "Life Expectancy (years)",
title = "Population Size and Life Expectancy in African Countries --
2000")
```

Fitting a simple model
```{r}
fit1<-lm(life_expectancy ~ infant_mortality, data = africa2000)
fit2<-lm(life_expectancy ~ population, data = africa2000)
```

```{r}
summary(fit1) 
summary(fit2)
```

Conclusions

There is statistically significant evidence supporting an association between life expectancy and infant mortality. Life expectancy decreases by 2.49 years for every unit increase in infant mortality (p < 0.05). The data does not show statistically significant evidence of association between life expectancy and population size (p = 0.62).
